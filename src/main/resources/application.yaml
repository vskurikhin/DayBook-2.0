application:
  cache:
    long-cache:
      entries: 10000
      ttl-ms: 360000
    string-cache:
      entries: 10000
      ttl-ms: 360000
    uuid-cache:
      entries: 10000
      ttl-ms: 360000
  db:
    username: ${DB_USER:dbuser}
    password: ${DB_PASS:password}
    r2dbc:
      host-rw: ${MASTER_DB_HOST:localhost}
      host-ro: ${CLUSTER_DB_HOST:localhost}
      port-rw: ${MASTER_DB_PORT:5432}
      port-ro: ${CLUSTER_DB_PORT:5432}
      database: ${DB_NAME:db}
      pool:
        connect-timeout: 500
        validation-depth: REMOTE
        validation-query: "SELECT 1"
  reactive:
    buffer-size: 128
    duration: 30000
    limit: 1000

logging:
  level:
    ROOT: DEBUG
    io:
      r2dbc:
        h2: DEBUG
    org:
      springframework:
        core:
          codec:
            CharSequenceEncoder: DEBUG
        web:
          server:
            session:
              DefaultWebSessionManager: DEBUG
            adapter:
              HttpWebHandlerAdapter: DEBUG
      thymeleaf:
        TemplateEngine: INFO
    su:
      svn:
        daybook: TRACE

management:
  endpoint:
    caches:
      enabled: true
    health:
      group:
        custom:
          include: diskSpace,ping
          show-details: when_authorized
          show-components: when_authorized
      enabled: true
      show-details: when_authorized
      show-components: when_authorized
    info:
      enabled: true
    metrics:
      enabled: true
    prometheus:
      enabled: true
  health:
    db:
      enabled: true
    defaults:
      enabled: false
    ldap:
      enabled: false
    livenessstate:
      enabled: true
    ping:
      enabled: true

server:
  compression:
    enabled: true

spring:
  jackson:
    date-format: com.fasterxml.jackson.databind.util.ISO8601DateFormat
    default-property-inclusion: non_null
    serialization:
      write_dates_as_timestamps: false
  r2dbc:
    url: ${DB_URL:r2dbc:postgresql://localhost/db}
    username: ${DB_USER:dbuser}
    password: ${DB_PASS:password}
  main:
    allow-bean-definition-overriding: true
  thymeleaf:
    reactive:
      max-chunk-size: 8192
  webflux:
    static-path-pattern: '/**'
    format:
      date-time: yyyy-MM-dd HH:mm:ss
      time: HH:mm:ss
      date: yyyy-MM-dd
  mvc:
    favicon:
      enabled: true
    format:
      date-time: yyyy-MM-dd HH:mm:ss
      date: yyyy-MM-dd
      time: HH:mm:ss

springbootwebfluxjjwt:
  jjwt:
    secret: ThisIsSecretForJWTHS512SignatureAlgorithmThatMUSTHave64ByteLength
    expiration: 28800
  password:
    encoder:
      secret: mysecret
      iteration: 33
      keylength: 256
